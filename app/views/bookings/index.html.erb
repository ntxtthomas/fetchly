<p style="color: green"><%= notice %></p>

<% content_for :title, "Bookings" %>

<h1 class="dashboard-title">Bookings Dashboard</h1>

<div class="dashboard-cards">
  <div class="card card-pending">
    <div class="card-header">
      <h3>Pending</h3>
      <div class="card-icon">ðŸ’¡</div>
    </div>
    <div class="card-body">
      <div class="card-number"><%= @bookings_pending %></div>
      <p class="card-subtitle">Bookings Pending</p>
    </div>
  </div>

  <div class="card card-confirmed">
    <div class="card-header">
      <h3>Confirmed</h3>
      <div class="card-icon">ðŸ“‹</div>
    </div>
    <div class="card-body">
      <div class="card-number"><%= @bookings_confirmed %></div>
      <p class="card-subtitle">Confirmed Bookings</p>
    </div>
  </div>

  <div class="card card-cancelled">
    <div class="card-header">
      <h3>Cancelled</h3>
      <div class="card-icon">ðŸ“¬</div>
    </div>
    <div class="card-body">
      <div class="card-number"><%= @bookings_cancelled %></div>
      <p class="card-subtitle">Cancelled Bookings</p>
    </div>
  </div>

  <div class="card card-completed">
    <div class="card-header">
      <h3>Completed</h3>
      <div class="card-icon">ðŸŽ¯</div>
    </div>
    <div class="card-body">
      <div class="card-number"><%= @bookings_completed %></div>
      <p class="card-subtitle">Completed Bookings</p>
    </div>
  </div>
</div>
</div>
<%= link_to "Create Booking", new_booking_path %>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Dogs</th>
      <th>Owners</th>
      <th>Sitters</th>
      <th>Status</th>
      <th>Start Date</th>
      <th>End Date</th>
    </tr>
  </thead>
  <tbody>
    <% @bookings.each do |booking| %>
    <!-- TODO:replace data-url with Stimulus later -->
    <tr data-url="<%= booking_path(booking) %>" class="clickable-row">
      <td><%= booking.id %></td>
      <td><%= booking.dog_names %></td>
      <td><%= booking.owner_display_name %></td>
      <td><%= booking.sitter_display_name %></td>
      <td><%= booking.booking_status %></td>
      <td><%= booking.start_date %></td>
      <td><%= booking.end_date %></td>
    </tr>
    <% end %>
  </tbody>
</table>
